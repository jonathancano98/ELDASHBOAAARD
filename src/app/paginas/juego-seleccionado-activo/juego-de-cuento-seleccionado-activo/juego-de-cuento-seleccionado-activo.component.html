
<div class = "contenedor">
  <div class = "enColumna">

    <button type="button" class="btn Eliminar" (click) = "AbrirDialogoConfirmacionDesactivar()"> Desactivar<i class="material-icons">history</i></button>
   
    
    
    <form style="width: 100%" *ngIf="juegoSeleccionado.Modo === 'Individual'">
    
      <table style="width: 100%" align="center" mat-table [dataSource]="datasourceAlumno"
        class="example-container mat-elevation-z8">
    
    
        <ng-container matColumnDef="alumnoID">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 15%"> Nombre </th>
          <td mat-cell *matCellDef="let alumno"> {{alumno.Nombre}} </td>
        </ng-container>
    
        <!-- AQUI ESTA EL ERROR !!!!!!!!!!!!!!!!!!!!!!! -->
        <ng-container matColumnDef="Apellido">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 15%"> Apellido </th>
          <td mat-cell *matCellDef="let alumno"> {{alumno.Apellido}} </td>
        </ng-container>
        <!-- AQUI ESTA EL ERROR !!!!!!!!!!!!!!!!!!!!!!! -->
        <!-- Lo he arreglado modificando la API y en la funcion DameAlumnosJuegoCuento ahora tambien te devuelve el apellido -->

    
    
        <ng-container matColumnDef="nivel1">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 5%"> NIVEL 1 <br>
    
            <mat-checkbox (change)="$event ? MasterToggle(1) : null; " [checked]="selection1.hasValue() && IsAllSelected(1)"
              [indeterminate]="selection1.hasValue() && !IsAllSelected(1)">
            </mat-checkbox>
          </th>
    
          <td mat-cell style="text-align: left" *matCellDef="let row; let i = index">
    
    
            <mat-checkbox (click)="$event.stopPropagation()"
              (change)="$event ? selection1.toggle(row) : null; HaCambiado (1,i) " [checked]="selection1.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>
        <!-- ///////////////////////////////////////////////// -->
    
        <ng-container matColumnDef="nivel2">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 5%"> NIVEL 2 <br>
    
    
            <mat-checkbox (change)="$event ? MasterToggle(2) : null;" [checked]="selection2.hasValue() && IsAllSelected(2)"
              [indeterminate]="selection2.hasValue() && !IsAllSelected(2)">
            </mat-checkbox>
          </th>
    
          <td mat-cell style="text-align: left" *matCellDef="let row; let i = index">
    
    
    
            <mat-checkbox (click)="$event.stopPropagation()"
              (change)="$event ? selection2.toggle(row) : null; HaCambiado(2,i)" [checked]="selection2.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>
    
    
        <!-- ///////////////////////////////////////////////// -->
    
        <ng-container matColumnDef="nivel3">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 5%"> NIVEL 3 <br>
    
    
    
            <mat-checkbox (change)="$event ? MasterToggle(3) : null; " [checked]="selection3.hasValue() && IsAllSelected(3)"
              [indeterminate]="selection3.hasValue() && !IsAllSelected(3)">
            </mat-checkbox>
          </th>
    
          <td mat-cell style="text-align: left" *matCellDef="let row; let i = index">
    
    
            <mat-checkbox (click)="$event.stopPropagation()"
              (change)="$event ? selection3.toggle(row) : null; HaCambiado(3,i)" [checked]="selection3.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>
    
        <!-- ///////////////////////////////////////////////// -->
    
        <ng-container matColumnDef="permisoparaver">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 5%"> PERMISO PARA VER <br>
    
    
            <mat-checkbox (change)="$event ? MasterToggle(4) : null; " [checked]="selection4.hasValue() && IsAllSelected(4)"
              [indeterminate]="selection4.hasValue() && !IsAllSelected(4)">
            </mat-checkbox>
          </th>
    
          <td mat-cell style="text-align: left" *matCellDef="let row; let i = index">
    
    
            <mat-checkbox (click)="$event.stopPropagation()"
              (change)="$event ? selection4.toggle(row) : null; HaCambiado(4,i)" [checked]="selection4.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>
    
        <!-- ///////////////////////////////////////////////// -->
    
        <ng-container matColumnDef="permisoparavotar">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla" style="width: 5%"> VER CUENTO <br>
          </th>
  
            <td mat-cell style="text-align: left" *matCellDef="let row; let i = index">
    
              <button *ngIf="this.listaLibros[i]" (click) = "irVisorCuento(this.listaLibros[i].titulo)"  mat-icon-button matTooltip="Visualizar cuento">
                <i class="material-icons green md-36">visibility</i>
              </button>
            <button *ngIf="!this.listaLibros[i]" (click) = "irVisorCuento(this.listaLibros[i].titulo)"  mat-icon-button matTooltip="No puedes visualizar cuento">
              <i class="material-icons red md-36">visibility</i>
            </button>
    
          </td>
        </ng-container>
    
    
    
    
    
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
      </table>
    </form>
    <button  type="button" class="btn Aceptar" (click)="RegistrarCambios()">Guardar</button>
  </div>
 </div>




